/**
 * @author generated by eTrice
 *
 * Source File of ProtocolClass PTestTrigger
 * 
 */

#include "PTestTrigger.h"
#include "debugging/etMSCLogger.h"


/*--------------------- port methods */

void PTestTriggerPort_done(const PTestTriggerPort* self) {
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerPort", "done")
	if (self->receiveMessageFunc!=NULL) {
		etPort_sendMessage(self, PTestTrigger_OUT_done, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

void PTestTriggerReplPort_done_broadcast(const PTestTriggerReplPort* self) {
	int i;
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerReplPort", "done")
	for (i=0; i<self->size; ++i) {
		etPort_sendMessage((etPort*)(&self->ports[i]), PTestTrigger_OUT_done, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

void PTestTriggerReplPort_done(const PTestTriggerReplPort* self, int idx) {
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerReplPort", "done")
	if (0<=idx && idx<self->size) {
		etPort_sendMessage((etPort*)(&self->ports[idx]), PTestTrigger_OUT_done, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

void PTestTriggerConjPort_trigger(const PTestTriggerConjPort* self) {
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerConjPort", "trigger")
	if (self->receiveMessageFunc!=NULL) {
		etPort_sendMessage(self, PTestTrigger_IN_trigger, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

void PTestTriggerConjReplPort_trigger_broadcast(const PTestTriggerConjReplPort* self) {
	int i;
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerConjReplPort", "trigger")
	for (i=0; i<self->size; ++i) {
		etPort_sendMessage((etPort*)(&self->ports[i]), PTestTrigger_IN_trigger, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

void PTestTriggerConjReplPort_trigger(const PTestTriggerConjReplPort* self, int idx) {
	ET_MSC_LOGGER_SYNC_ENTRY("PTestTriggerConjReplPort", "trigger")
	if (0<=idx && idx<self->size) {
		etPort_sendMessage((etPort*)(&self->ports[idx]), PTestTrigger_IN_trigger, 0, NULL);
	}
	ET_MSC_LOGGER_SYNC_EXIT
}

/*--------------------- debug helpers */

/* message names as strings for debugging (generate MSC) */
static const char* PTestTrigger_messageStrings[] = {"MIN", "done","trigger", "MAX"};

const char* PTestTrigger_getMessageString(int msg_id) {
	if (msg_id<PTestTrigger_MSG_MIN || msg_id>PTestTrigger_MSG_MAX+1){
		/* id out of range */
		return "Message ID out of range";
	}
	else{
		return PTestTrigger_messageStrings[msg_id];
	}
}
