/**
 * @author generated by eTrice
 *
 * Source File of ProtocolClass PLogger
 * 
 */

#include "PLogger.h"
#include "debugging/etMSCLogger.h"
#include "PLogger_Utils.h"

/*--------------------- begin user code ---------------------*/
#include <stdarg.h>
extern void PLogging_internal_logF();

/*--------------------- end user code ---------------------*/

/*--------------------- port methods */
etInt32 PLoggerReplPort_getReplication(const PLoggerReplPort* self) {
	return ((etReplPort*)self)->size;
}


/* begin PLoggerConjPort specific (including base classes) */

/*--------------------- operations ---------------------*/
 void PLoggerConjPort_log(PLoggerConjPort* self, char* message) {
	logF(message, NULL);
}
 void PLoggerConjPort_logF(PLoggerConjPort* self, char* format, ...) {
	va_list argptr;
	va_start(argptr, format);
	// TODO call etLogger
	PLogger_internal_logF(format, argptr);
	va_end(argptr);
}
/* end PLoggerConjPort specific (including base classes) */

etInt32 PLoggerConjReplPort_getReplication(const PLoggerConjReplPort* self) {
	return ((etReplPort*)self)->size;
}



/*--------------------- debug helpers */

/* message names as strings for debugging (generate MSC) */
static const char* const PLogger_messageStrings[] = {"MIN", "MAX"};

const char* PLogger_getMessageString(int msg_id) {
	if (msg_id<PLogger_MSG_MIN || msg_id>PLogger_MSG_MAX+1){
		/* id out of range */
		return "Message ID out of range";
	}
	else{
		return PLogger_messageStrings[msg_id];
	}
}
