<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Create the model</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- xhtml,3,next,html --> 
<meta name="src" content="etrice-doc.tex" /> 
<<<<<<< Upstream, based on branch 'master' of ssh://hrentzreich@git.eclipse.org:29418/etrice/org.eclipse.etrice.git
<meta name="date" content="2013-06-14 00:07:00" /> 
=======
<meta name="date" content="2013-06-14 08:45:00" /> 
>>>>>>> 1fbdb27 [doc] fixed problem with colored eTrice in headings
<link rel="stylesheet" type="text/css" href="etrice-doc.css" /> 
</head><body 
>
<!--l. 85--><div class="crosslinks"><p class="noindent">[<a 
href="etrice-docse45.html" >next</a>] [<a 
href="etrice-docse43.html" >prev</a>] [<a 
href="etrice-docse43.html#tailetrice-docse43.html" >prev-tail</a>] [<a 
href="#tailetrice-docse44.html">tail</a>] [<a 
<<<<<<< Upstream, based on branch 'master' of ssh://hrentzreich@git.eclipse.org:29418/etrice/org.eclipse.etrice.git
href="etrice-docch9.html#etrice-docse44.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">9.4   </span> <a 
 id="x55-770009.4"></a>Create the model</h3>
<!--l. 87--><p class="noindent" >Due to the former tutorials you should be familiar with the steps to create the model with protocols, actors
and state machines.
</p><!--l. 90--><p class="noindent" >The basic idea of the exercise is to create a file reader actor, which is responsible to open, close and read
characters from the source file. Another actor receives the characters and filters the comments (parser). The
remaining characters (pure source code) should be print out.
</p><!--l. 94--><p class="noindent" >Remember the logical steps: </p>
     <ul class="itemize1">
     <li class="itemize">create the model by the help of content assist (CTRL Space)
     </li>
     <li class="itemize">name the model, subsystem and top level actor
     </li>
     <li class="itemize">define the protocol (in this case it should be able to send a char, and to request the next char
     from the file reader)
     </li>
     <li class="itemize">create the structure (file reader and parser with an appropriate port, create the references and
     connect the ports)
     </li>
     <li class="itemize">create the state machines</li></ul>
<!--l. 105--><p class="noindent" >Try to create the model by yourself and take the following solution as an example.
</p><!--l. 107--><p class="noindent" >Structure:
</p><!--l. 109--><p class="noindent" ><img 
src="images/036-RemoveCommentC04.png" alt="PIC"  
 />
</p><!--l. 112--><p class="noindent" >File reader FSM:
</p><!--l. 114--><p class="noindent" ><img 
src="images/036-RemoveCommentC05.png" alt="PIC"  
 />
</p><!--l. 117--><p class="noindent" >Parser FSM:
</p><!--l. 119--><p class="noindent" ><img 
src="images/036-RemoveCommentC06.png" alt="PIC"  
 />
</p><!--l. 122--><p class="noindent" >The complete model can be found in <span 
class="ec-lmsso-10">org.eclipse.etrice.tutorials.c</span>
</p><!--l. 124--><p class="noindent" >Take a look at the file attribute of the file reader.
=======
href="etrice-docch11.html#etrice-docse44.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
 id="x57-7800011.6"></a>Summary</h3>
<!--l. 152--><p class="noindent" >This tutorial should help you to train the necessary steps to create a C model. By the way you have seen how
to create your own type system for a real embedded project. An additional aspect was to show how simple it is
to separate different aspects of the required functionality by the use of actors and protocols and make them
reusable.
>>>>>>> 1fbdb27 [doc] fixed problem with colored eTrice in headings
                                                                                 
                                                                                 
</p>
<div class="verbatim" id="verbatim-21">
Attribute&#x00A0;f:file&#x00A0;ref
</div>
<!--l. 128--><p class="nopar" >
</p><!--l. 130--><p class="noindent" ><span 
class="ec-lmsso-10">fopen </span>expects a <span 
class="ec-lmsso-10">FILE *</span>. <span 
class="ec-lmsso-10">f:file ref  </span>declares a variable <span 
class="ec-lmsso-10">f  </span>from type reference to <span 
class="ec-lmsso-10">file</span>, which is a pointer to
<span 
class="ec-lmsso-10">FILE</span>.
                                                                                 
                                                                                 
</p>
<!--l. 134--><div class="crosslinks"><p class="noindent">[<a 
href="etrice-docse45.html" >next</a>] [<a 
href="etrice-docse43.html" >prev</a>] [<a 
href="etrice-docse43.html#tailetrice-docse43.html" >prev-tail</a>] [<a 
href="etrice-docse44.html" >front</a>] [<a 
href="etrice-docch9.html#etrice-docse44.html" >up</a>] </p></div>
<!--l. 134--><p class="noindent" ><a 
 id="tailetrice-docse44.html"></a> </p> 
</body></html> 
