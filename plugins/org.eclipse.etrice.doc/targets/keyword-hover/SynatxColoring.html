<!--  generated by featurizer  -->
<h2><a href="#room" name="room"></a>room</h2>
<pre><code class=room customHighlighted><span class=keyword>import</span> room.basic.types.* <span class=keyword>from</span> <span class=string>&quot;../../../org.eclipse.etrice.modellib.c/model/Types.room&quot;</span>

<span class=keyword>ActorClass</span> InternalEndPortExample {
	<span class=keyword>Structure</span> {
		<span class=keyword>Port</span> internalEndPort : PSimpleProtocol
		<span class=keyword>ActorRef</span> actorRef1 : SimpleActorClass1
		
		<span class=comment>// internalEndPort lives &#39;local&#39; 
</span>		<span class=comment>// and thus needs a Binding to port of an ActorRef
</span>		<span class=keyword>Binding</span> internalEndPort <span class=keyword>and</span> actorRef1.externalPort
	}
	<span class=keyword>Behavior</span> {
		<span class=comment>// send/receive messages from internalEndPorts
</span>	}
}

<span class=keyword>ActorClass</span> Receiver {
		<span class=keyword>Interface</span> {
			<span class=keyword>Port</span> sender: PingPongProtocol
		}
		<span class=keyword>Structure</span> {
			<span class=keyword>external</span> <span class=keyword>Port</span> sender
			<span class=keyword>SAP</span> timing : PTimer
		}
		<span class=keyword>Behavior</span> {
			<span class=keyword>StateMachine</span> {
				<span class=keyword>Transition</span> init: <span class=keyword>initial</span> -&gt; WaitingForPing { }
				<span class=keyword>Transition</span> tr0: WaitingForPing -&gt; WaitingForAWhile {
					<span class=keyword>triggers</span> {
						&lt;ping: sender&gt;
					}
				}
				<span class=keyword>Transition</span> tr1: WaitingForAWhile -&gt; SentPong {
					<span class=keyword>triggers</span> {
						&lt;timeout: timing&gt;
					}
				}
				<span class=keyword>State</span> WaitingForPing
				<span class=keyword>State</span> SentPong {
					<span class=keyword>entry</span> {
						<span class=string>&quot;sender.pong();&quot;</span>
					}
				}
				<span class=keyword>State</span> WaitingForAWhile {
					<span class=keyword>entry</span> {
						<span class=string>&quot;timing.startTimeout(1000);&quot;</span>
					}
				}
			}
		}
	}

<span class=comment>// eventdriven ProtocolClass (asynchronous message passing, bidirectional)
</span><span class=keyword>eventdriven</span> <span class=keyword>ProtocolClass</span> ProtocolClassEvt {
	<span class=comment>// ProtocolClass ProtocolClassEvt { // same like above because eventdriven is default 
</span>	<span class=keyword>incoming</span> {
		<span class=comment>// incoming means incoming for a regular port and outging for a conjugated port
</span>		<span class=keyword>Message</span> message1() <span class=comment>// message without data
</span>		<span class=keyword>Message</span> message2(data: int32) <span class=comment>// message with simple data
</span>		<span class=keyword>Message</span> message3(data: DMessageData) <span class=comment>// message with complex data (DataClass)
</span>
	}
	<span class=keyword>outgoing</span> {
	<span class=comment>// outgoing means outging for a regular port and incoming for a conjugated port
</span>		<span class=keyword>Message</span> message1(data: int32) <span class=comment>// incoming and outgoing Messages can have the same name to enable symmetric protocols
</span>	}
}

<span class=comment>// DataClass for sending complex data via message
</span><span class=keyword>DataClass</span> DMessageData {
	<span class=keyword>Attribute</span> SomeData: int16
	<span class=keyword>Attribute</span> SomeMoreData: int32
}
</code></pre>
<h2><a href="#etmap" name="etmap"></a>etMap</h2>
<pre><code class=etmap customHighlighted><span class=keyword>MappingModel</span> PingPongMapping {
	<span class=keyword>import</span> PingPong_Model.* <span class=keyword>from</span> <span class=string>&quot;PingPong.room&quot;</span>
	<span class=keyword>import</span> GenericPhysicalModel.* <span class=keyword>from</span> <span class=string>&quot;GenericPhysical.etphys&quot;</span>

	<span class=keyword>Mapping</span> LogSys -&gt; PhysSys1 {
		<span class=keyword>SubSystemMapping</span> subSystemRef -&gt; nodeRef1 {
			<span class=keyword>ThreadMapping</span> defaultThread -&gt; PhysicalThread1
		}
	}

}
</code></pre>
<h2><a href="#etphys" name="etphys"></a>etPhys</h2>
<pre><code class=etphys customHighlighted><span class=keyword>PhysicalModel</span> GenericPhysicalModel {
	
	<span class=keyword>PhysicalSystem</span> PhysSys1 {
		<span class=keyword>NodeRef</span> nodeRef1 : NodeClass1
	}
	
	<span class=keyword>NodeClass</span> NodeClass1 {
		<span class=keyword>runtime</span> = RuntimeClass1
		<span class=keyword>priomin</span> = -10
		<span class=keyword>priomax</span> = 10
		
		<span class=keyword>DefaultThread</span> PhysicalThread1 {
			<span class=keyword>execmode</span> = <span class=keyword>mixed</span>
			<span class=keyword>interval</span> = 100ms
			<span class=keyword>prio</span> = 0
			<span class=keyword>stacksize</span> = 1024
			<span class=keyword>msgblocksize</span> = 64
			<span class=keyword>msgpoolsize</span> = 100
		}
	}

	<span class=keyword>RuntimeClass</span> RuntimeClass1 {
		<span class=keyword>model</span> = <span class=keyword>multiThreaded</span>
	} 
	
} 
</code></pre>
<h2><a href="#config" name="config"></a>config</h2>
<pre><code class="config">/*******************************************************************************
 * Copyright (c) 2012 protos software gmbh (http://www.protos.de).
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 * 
 * CONTRIBUTORS:
 * 		Thomas Schuetz (initial contribution)
 * 
 *******************************************************************************/
ConfigModel trafficlight.example.config {
	
	import TrafficLight_Model.* from &quot;TrafficLight.room&quot;
	
	ActorInstanceConfig LSTraffic/mainSS/application/pedestrianLight {
		Attr ipConfig{
			Attr IPAddr=&quot;localhost&quot;
			Attr TcpPort=4443
		}
	}	
}
</code></pre>
<pre lang="no-highlight"><code> 
```
"no highlighting"  /* comment */
// nop 
```

```no-highlight
"no highlighting"  /* comment */
// nop 
```
</code></pre>
<pre><code>&quot;no highlighting&quot;  /* comment */
// nop 
</code></pre>
<pre><code class="no-highlight">&quot;no highlighting&quot;  /* comment */
// nop 
</code></pre>
<h2><a href="#todo" name="todo"></a>TODO</h2>
<p>Syntax highlighting for other languages like c: </p>
<pre><code class="c">void etMessageQueue_push(etMessageQueue* self, etMessage* msg){
	/* TODO: optimize queue for concurrent push / pop */
	ET_MSC_LOGGER_SYNC_ENTRY(&quot;etMessageQueue&quot;, &quot;push&quot;)
	if (self-&gt;first == NULL) {
		/*no message in queue*/
		self-&gt;first = self-&gt;last = msg;
	}
	else {
		/*at least one message in queue*/
		self-&gt;last-&gt;next = msg;
		self-&gt;last = msg;
	}
	msg-&gt;next = NULL; /*TODO: optimization: this line could be removed if we assume that all messages are initialized*/

	if (++self-&gt;size &gt; self-&gt;highWaterMark)
		self-&gt;highWaterMark++;

	ET_MSC_LOGGER_SYNC_EXIT
}
</code></pre>