<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Define Actor Structure and Behavior</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="eTrice User Guide">
<link rel="up" href="TutorialSendingData.html" title="Tutorial Sending Data">
<link rel="prev" href="CreateMrPingandMrPongActors.html" title="Create MrPing and MrPong Actors">
<link rel="next" href="Definethetoplevel.html" title="Define the top level">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Define Actor Structure and Behavior</h1>
<div class="section" title="Define Actor Structure and Behavior">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">
<a name="DefineActorStructureandBehavior"></a>Define Actor Structure and Behavior</h2>
</div>
</div>
</div>
<p>Save the model and visit the outline view. Within the outline view, right click on the 
				<span class="emphasis"><em>MrPong</em></span> actor and select 
				<span class="emphasis"><em>Edit Structure</em></span>. Select an 
				<span class="emphasis"><em>Interface Port</em></span> from the toolbox and add it to MrPong. Name the Port 
				<span class="emphasis"><em>PingPongPort</em></span> and select the 
				<span class="emphasis"><em>PingPongProtocol</em></span>
			
</p>
<p>
				
</p>
<div class="mediaobject">
<img src="images/025-SendingData02.png"></div>
<p>
			
</p>
<p>Do the same with MrPing but mark the port as 
				<span class="emphasis"><em>conjugated</em></span>
			
</p>
<div class="section" title="Define MrPongs behavior">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DefineMrPongsbehavior"></a>Define MrPongs behavior</h3>
</div>
</div>
</div>
<p>Within the outline view, right click MrPong and select 
					<span class="emphasis"><em>Edit Behavior</em></span>. Create the following state machine:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData04.png"></div>
<p>
				
</p>
<p>The transition dialogues should look like this:
					For 
					<span class="emphasis"><em>ping</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData05.png"></div>
<p>
				
</p>
<p>For 
					<span class="emphasis"><em>pingSimple</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData06.png"></div>
<p>
				
</p>
</div>
<div class="section" title="Define MrPing behavior">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DefineMrPingbehavior"></a>Define MrPing behavior</h3>
</div>
</div>
</div>
<p>Within the outline view double click MrPing. Navigate the cursor to the behavior of MrPing. With the help of content assist create a new operation.</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData07.png"></div>
<p>
				
</p>
<p>Name the operation 
					<span class="emphasis"><em>printData</em></span> and define the DemoData as a parameter.
				</p>
<p>Fill in the following code:</p>
<div class="literallayout">
<p>
<code class="code">Operation&nbsp;printData(d:&nbsp;DemoData)&nbsp;:&nbsp;void&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"System.out.printf(\"d.int32Val:&nbsp;%d\\n\",d.int32Val);"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"System.out.printf(\"d.float64Val:&nbsp;%f\\n\",d.float64Val);"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"System.out.printf(\"d.int8Array:&nbsp;\");"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&lt;d.int8Array.length;&nbsp;i++)&nbsp;{"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"System.out.printf(\"%d&nbsp;\",d.int8Array[i]);}"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"System.out.printf(\"\\nd.stringVal:&nbsp;%s\\n\",d.stringVal);"<br>
}<br>

</code>
</p>
</div>
<div class="blockquote">
<blockquote class="blockquote">
<p></p>
</blockquote>
</div>
<p>For MrPing create the following state machine:
					(Remember that you can copy and paste the action code from the tutorial directory.)</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData08.png"></div>
<p>
				
</p>
<p>The transition dialogues should look like this:</p>
<p>For 
					<span class="emphasis"><em>init</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData09.png"></div>
<p>
				
</p>
<p>For 
					<span class="emphasis"><em>wait1</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData10.png"></div>
<p>
				
</p>
<p>For 
					<span class="emphasis"><em>next</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData11.png"></div>
<p>
				
</p>
<p>For 
					<span class="emphasis"><em>wait2</em></span>:
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/025-SendingData12.png"></div>
<p>
				
</p>
</div>
</div>
</body>
</html>
