/**
 * @author generated by eTrice
 *
 * Source File of SubSystemClass RemoveCommentSubSys
 * 
 */

#include "RemoveCommentSubSys.h"

/* include instances for all classes */
#include "RemoveCommentSubSys_Inst.h"
#include "RemoveCommentSubSys_Disp.h"

#include "debugging/etLogger.h"
#include "debugging/etMSCLogger.h"

#include "platform/etTimer.h"
#include "etRuntimeConfig.h"


/* data for SubSysten RemoveCommentSubSys */
typedef struct RemoveCommentSubSys {
	char *name;
	volatile int shutdownRequest;
} RemoveCommentSubSys;

static RemoveCommentSubSys RemoveCommentSubSysInst = {"RemoveCommentSubSys",0};

void RemoveCommentSubSys_initActorInstances(void);
void RemoveCommentSubSys_constructActorInstances(void);

void RemoveCommentSubSys_init(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "init")
	etLogger_logInfoF("%s_init", RemoveCommentSubSysInst.name);
	
	/* construct all actors */
	RemoveCommentSubSys_constructActorInstances();
	
	/* initialization of all message services */
	etMessageService_init(&msgService_Thread1, msgBuffer_Thread1, MESSAGE_POOL_MAX, MESSAGE_BLOCK_SIZE, MsgDispatcher_Thread1_receiveMessage);
	
	/* init all actors */
	RemoveCommentSubSys_initActorInstances();
	
	ET_MSC_LOGGER_SYNC_EXIT
}

void RemoveCommentSubSys_start(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "start")
	etLogger_logInfoF("%s_start", RemoveCommentSubSysInst.name);
	ET_MSC_LOGGER_SYNC_EXIT
}

void RemoveCommentSubSys_run(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "run")
	
	#ifdef ET_RUNTIME_ENDLESS
		while(!(RemoveCommentSubSysInst.shutdownRequest)){
			if (etTimer_executeNeeded()){
				etMessageService_execute(&msgService_Thread1);
			}
		}
	#else
		uint32 loopCounter = 0;
		while(!(RemoveCommentSubSysInst.shutdownRequest)){
			if (etTimer_executeNeeded()){
				etMessageService_execute(&msgService_Thread1);
				etLogger_logInfo("Execute");
				if (loopCounter++ > ET_RUNTIME_MAXLOOP){
					break;
				}
			}
		}
	#endif
	
	ET_MSC_LOGGER_SYNC_EXIT
}

void RemoveCommentSubSys_stop(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "stop")
	etLogger_logInfoF("%s_stop", RemoveCommentSubSysInst.name);
	ET_MSC_LOGGER_SYNC_EXIT
}

void RemoveCommentSubSys_destroy(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "destroy")
	etLogger_logInfoF("%s_destroy", RemoveCommentSubSysInst.name);
	ET_MSC_LOGGER_SYNC_EXIT
}

void SubSysClass_shutdown(void){
	ET_MSC_LOGGER_SYNC_ENTRY("SubSys", "shutdown")
	etLogger_logInfoF("%s_shutdown", RemoveCommentSubSysInst.name);
	RemoveCommentSubSysInst.shutdownRequest = 1;
	ET_MSC_LOGGER_SYNC_EXIT
}


void RemoveCommentSubSys_constructActorInstances(void){
	ET_MSC_LOGGER_SYNC_ENTRY("RemoveCommentSubSys", "constructActorInstances")
	ET_MSC_LOGGER_SYNC_EXIT
}

void RemoveCommentSubSys_initActorInstances(void){
	ET_MSC_LOGGER_SYNC_ENTRY("RemoveCommentSubSys", "initActorInstances")
	ATop_init(&_RemoveCommentSubSys_Topref);
	AFileReader_init(&_RemoveCommentSubSys_Topref_reader);
	ACParser_init(&_RemoveCommentSubSys_Topref_cParser);
	ET_MSC_LOGGER_SYNC_EXIT
}

